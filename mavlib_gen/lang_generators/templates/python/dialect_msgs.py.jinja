# Mavlink message definition for messages from dialect {{ dialect_name_lower }}
# AUTOGENERATED BY mavlib_gen.DO NOT MODIFY DIRECTLY
from mavlink_types import MavlinkMessage
from typing import List


{% for msg in messages %}
class Message{{ msg.get_name("UpperCamel") }}(MavlinkMessage):
    """
    {{ msg.formatted_description("    ", False) }}
    """

    CRC_EXTRA = {{ msg.crc_extra }}
    MSG_ID = {{ msg.id }}
    NAME = "{{ msg.name }}"

    def __init__(self,
        {% for field in msg.fields %}
        {{ field.name }}: {{ field.get_type("python") }},
        {% endfor %}
        ):
        super().__init__(self.MSG_ID)
        {% for field in msg.fields %}
        {% if use_properties %}
        self._{{ field.name }} = {{ field.name }}
        {% else %}
        self.{{ field.name }} = {{ field.name }}
        """{{ field.formatted_description("        ", False) }}"""
        {% endif %}
        {% endfor %}

    {#
    Using properties for all fields because it helps with doc readability in code
    editors and because it means we can support plugins for inserting custom
    get/set logic in the future
    #}
    {% if use_properties %}
    {% for field in msg.fields %}
    @property
    def {{ field.name }}(self) -> {{ field.get_type("python") }}:
        """
        {{ field.formatted_description("        ", False) }}
        """
        return self._{{ field.name }}

    @{{ field.name }}.setter
    def {{ field.name }}(self, new_{{ field.name }}: {{ field.get_type("python") }}) -> None:
        self._{{ field.name }} = new_{{ field.name }}

    {% endfor %}
    {% endif %}

{% endfor %}
# Map of Mavlink message ids for this dialect -> Message types
MAVLINK_{{ dialect_name_upper }}_MSG_ID_MAP = {
{% for msg in messages %}
    Message{{ msg.get_name("UpperCamel") }}.MSG_ID : Message{{ msg.get_name("UpperCamel") }},
{% endfor %}
}

